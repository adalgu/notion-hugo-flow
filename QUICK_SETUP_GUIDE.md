# 노션-휴고 원스톱 설정 가이드

## 🚀 빠른 시작 (5분 완료)

노션 API 키만 있으면 자동으로 데이터베이스를 생성하고 블로그를 설정할 수 있습니다!

### 1단계: 노션 API 키 준비

1. [Notion 통합 페이지](https://www.notion.so/my-integrations)에서 새 통합 생성
2. API 키를 복사하여 `.env` 파일에 저장:
   ```bash
   echo "NOTION_TOKEN=your_notion_api_key_here" > .env
   ```

### 2단계: 원스톱 설정 실행

```bash
python notion_hugo_app.py --quick-setup
```

이 명령 하나로 다음 작업이 모두 자동으로 완료됩니다:
- ✅ 최적의 위치에 노션 데이터베이스 자동 생성
- ✅ Hugo 블로그용 속성 자동 설정  
- ✅ 샘플 블로그 포스트 생성
- ✅ 설정 파일 자동 업데이트
- ✅ 바로 블로그 동기화 시작

### 3단계: 완료! 🎉

설정이 완료되면 노션에서 데이터베이스와 샘플 포스트를 확인할 수 있습니다.

## 🔧 고급 옵션

### 대화형 설정 (상세 제어 필요시)

```bash
python notion_hugo_app.py --interactive
```

### 설정 검증

```bash
python notion_hugo_app.py --validate
```

### 기존 데이터베이스 마이그레이션

```bash
python notion_hugo_app.py --migrate-db --source-db your_database_id
```

## 🛠️ 문제 해결

### 권한 오류 발생시

1. 노션에서 통합에 페이지를 공유했는지 확인
2. 통합 권한에 "Insert content" 권한이 있는지 확인
3. API 키가 올바른지 확인

### 자동 검증으로 문제 진단

```bash
python notion_hugo_app.py --validate
```

이 명령으로 모든 설정을 자동으로 검증하고 문제점과 해결책을 안내받을 수 있습니다.

## 📋 새로운 기능들

### 🔍 지능형 위치 자동 결정
- 사용자 권한에 따라 최적의 데이터베이스 생성 위치를 자동으로 찾아줍니다
- 워크스페이스 루트 → 블로그 관련 페이지 → 첫 번째 접근 가능한 페이지 순으로 시도

### 🔄 견고한 재시도 메커니즘  
- 네트워크 오류, API 제한 등에 대한 자동 재시도
- Exponential backoff로 안정적인 API 호출

### 💡 친화적인 오류 메시지
- 권한, 네트워크, 설정 오류를 상황별로 명확하게 안내
- 각 오류에 대한 구체적인 해결 방법 제시

### ✅ 완전한 설정 검증
- 토큰 유효성, 워크스페이스 접근, 데이터베이스 연결 상태를 종합 점검
- 문제 발견시 단계별 해결 가이드 제공

이제 노션 키 하나만으로 5분 만에 블로그를 시작할 수 있습니다! 🎯