# 노션-휴고 초안(Draft) 관리 가이드

이 문서는 노션-휴고 통합에서 초안(draft) 관리 방법을 설명합니다.

## 초안 관리 방식

현재 시스템은 다음과 같은 방식으로 초안을 관리합니다:

1. **기본값으로 초안 상태 유지**: 모든 노션 페이지는 기본적으로 `draft: true` 상태로 변환됩니다. 이는 실수로 비공개 포스트가 발행되는 것을 방지합니다.

2. **초안 포함 빌드**: Hugo 빌드 시 `--buildDrafts` 파라미터를 사용하여 초안 상태의 포스트도 웹사이트에 포함됩니다.

## 노션에서 발행 상태 관리

노션 데이터베이스에서 발행 상태를 관리하려면:

1. 데이터베이스에 `isPublished` 체크박스 속성을 추가합니다.
2. 발행하려는 포스트에 대해 이 체크박스를 체크합니다.
3. 체크된 포스트는 `draft: false`로 변환되고, 체크되지 않은 포스트는 `draft: true`로 유지됩니다.

## 기술적 구현

시스템은 다음과 같이 구성되어 있습니다:

1. `property_mapper.py`는 노션 속성을 Hugo 프론트매터로 변환합니다:
   - `isPublished` 체크박스 속성이 있으면, 그 값의 반대로 `draft` 상태가 설정됩니다.
   - 속성이 없으면, 기본값은 `draft: true`입니다.

2. `.github/workflows/hugo.yml`은 GitHub Actions 워크플로우에서 Hugo 빌드 시 `--buildDrafts` 파라미터를 사용합니다.

## 다른 접근 방식

상황에 따라 다른 접근 방식을 선택할 수 있습니다:

1. **기본값으로 발행 상태 사용**: `property_mapper.py`에서 기본값을 `draft: false`로 변경하여 모든 포스트를 기본적으로 발행할 수 있습니다.

2. **초안 빌드 비활성화**: 프로덕션 환경에서는 `--buildDrafts` 파라미터를 제거하여 초안 상태의 포스트를 발행하지 않을 수 있습니다.

## 현재 설정 이유

현재 설정(기본값 `draft: true`와 `--buildDrafts` 사용)은 다음과 같은 이유로 선택되었습니다:

1. **안전성**: 실수로 비공개 포스트가 발행되는 것을 방지합니다.
2. **편의성**: 노션에서 `isPublished` 속성을 설정하지 않아도 모든 포스트가 웹사이트에 표시됩니다.
3. **유연성**: 필요에 따라 특정 포스트를 비공개로 유지할 수 있습니다.

필요에 따라 이 설정을 변경할 수 있습니다.
