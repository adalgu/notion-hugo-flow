<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>파이썬으로 Active ETF 종목 변동 분석하기 | Exobrain</title>
<meta name=keywords content="Python,투자,ETF,데이터분석"><meta name=description content="이 포스트에서는 파이썬을 사용하여 Active ETF의 종목 변동을 분석하는 방법을 소개합니다. 타임폴리오 자산운용의 '타임폴리오 코리아 플러스배당액티브 ETF'를 예시로 데이터 수집, 분석, 시각화를 통해 매니저의 투자 전략을 파악하는 방법을 배워보세요."><meta name=author content="Gunn Kim"><link rel=canonical href=http://localhost:1313/posts/analyzing-active-etf-with-python/><meta name=google-site-verification content="G-BQ6CZ7HMQK"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/analyzing-active-etf-with-python/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>(function(){const e=window.location.pathname;if(e.startsWith("/post/")&&!e.startsWith("/posts/")){const t=e.replace("/post/","/posts/"),n=window.location.origin+t+window.location.search+window.location.hash;window.location.replace(n)}(e==="/archives"||e==="/archives/")&&window.location.replace(window.location.origin+"/posts/")})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-BQ6CZ7HMQK"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-BQ6CZ7HMQK")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3695098602071408" crossorigin=anonymous></script><meta property="og:url" content="http://localhost:1313/posts/analyzing-active-etf-with-python/"><meta property="og:site_name" content="Exobrain"><meta property="og:title" content="파이썬으로 Active ETF 종목 변동 분석하기"><meta property="og:description" content="이 포스트에서는 파이썬을 사용하여 Active ETF의 종목 변동을 분석하는 방법을 소개합니다. 타임폴리오 자산운용의 '타임폴리오 코리아 플러스배당액티브 ETF'를 예시로 데이터 수집, 분석, 시각화를 통해 매니저의 투자 전략을 파악하는 방법을 배워보세요."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-06-24T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-04T09:47:00+00:00"><meta property="article:tag" content="Python"><meta property="article:tag" content="투자"><meta property="article:tag" content="ETF"><meta property="article:tag" content="데이터분석"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="파이썬으로 Active ETF 종목 변동 분석하기"><meta name=twitter:description content="이 포스트에서는 파이썬을 사용하여 Active ETF의 종목 변동을 분석하는 방법을 소개합니다. 타임폴리오 자산운용의 '타임폴리오 코리아 플러스배당액티브 ETF'를 예시로 데이터 수집, 분석, 시각화를 통해 매니저의 투자 전략을 파악하는 방법을 배워보세요."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"파이썬으로 Active ETF 종목 변동 분석하기","item":"http://localhost:1313/posts/analyzing-active-etf-with-python/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"파이썬으로 Active ETF 종목 변동 분석하기","name":"파이썬으로 Active ETF 종목 변동 분석하기","description":"이 포스트에서는 파이썬을 사용하여 Active ETF의 종목 변동을 분석하는 방법을 소개합니다. 타임폴리오 자산운용의 '타임폴리오 코리아 플러스배당액티브 ETF'를 예시로 데이터 수집, 분석, 시각화를 통해 매니저의 투자 전략을 파악하는 방법을 배워보세요.","keywords":["Python","투자","ETF","데이터분석"],"articleBody":"안녕하세요, 파이썬으로 금융 문제를 해결해 보는 블로그에 오신 것을 환영합니다! 오늘은 Active ETF의 종목 변동을 파이썬으로 분석하는 방법을 소개하려고 합니다. 이 글을 통해 여러분은 ETF 매니저가 어떤 종목의 비중을 늘리고 줄였는지, 그 이유가 무엇인지 파악할 수 있습니다.\nActive ETF란 무엇인가요? 먼저, Active ETF에 대해 간단히 설명드릴게요. ETF(Exchange Traded Fund)는 주식처럼 거래되는 펀드입니다. Active ETF는 매니저가 시장 상황에 따라 종목을 적극적으로 조정하는 ETF를 말합니다. 따라서 어떤 종목의 비중이 어떻게 변했는지를 분석하면 매니저의 투자 전략을 엿볼 수 있죠.\n왜 타임폴리오 액티브 ETF인가요? 이번 분석에서는 타임폴리오자산운용의 ‘타임폴리오 코리아 플러스배당액티브 ETF’를 예시로 사용했습니다. 이 ETF는 최근 업계 최초로 특별배당을 실시하며 주목받고 있습니다.\n타임폴리오자산운용은 2024년 6월, 이 ETF가 1%의 특별배당을 시행한다고 발표했습니다. 이는 기존 월배당 0.5%에 추가된 것으로, 총 1.5%의 배당금을 지급하게 됩니다. 타임폴리오 코리아 플러스배당액티브 ETF는 삼양식품, SK하이닉스와 같은 실적이 좋은 주도주와 현대차, 메리츠금융지주 등 주주 친화적인 고배당주를 적절히 편입하여 우수한 성과를 달성하고 있습니다.\n타임폴리오의 조상준 부장은 이 ETF가 상승장과 하락장 모두에서 시장을 이기는 투자를 할 수 있다고 강조했습니다. 이 ETF는 최근 연간 수익률 43.1%를 기록하며 전체 배당 ETF 중 수익률 1위를 달성했습니다. 배당 수익뿐만 아니라 자본차익까지 노리는 적극적인 종목선별 전략 덕분에 이러한 성과를 이룰 수 있었습니다.\n특히 삼양식품의 경우, 주가가 급등하는 동안 ETF의 주요 종목으로 편입되었고, 이는 전체 수익률을 크게 높이는 데 기여했습니다. 이러한 이유로 우리는 이 ETF를 예시로 선택하여 종목 변동을 분석해보려 합니다.\n필요한 도구들 이 분석을 위해 필요한 도구는 간단합니다:\nrequests: 웹에서 데이터를 가져오기 위한 라이브러리입니다. BeautifulSoup: HTML 파싱을 위한 라이브러리입니다. pandas: 데이터 분석을 위한 라이브러리입니다. matplotlib: 데이터 시각화를 위한 라이브러리입니다. 이제 코드를 작성해볼까요? 데이터 수집 먼저, 특정 기간 동안 Active ETF의 종목 데이터를 수집해야 합니다. 이를 위해 웹에서 데이터를 가져오고, BeautifulSoup으로 파싱하여 pandas DataFrame으로 저장할 겁니다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 import requests from bs4 import BeautifulSoup import pandas as pd from datetime import datetime, timedelta import matplotlib.pyplot as plt from matplotlib import font_manager, rc # 한글 폰트 설정 font_path = '/System/Library/Fonts/Supplemental/AppleGothic.ttf' # 또는 적절한 폰트 경로 지정 font_name = font_manager.FontProperties(fname=font_path).get_name() rc('font', family=font_name) plt.rcParams['axes.unicode_minus'] = False def get_etf_data(start_date, end_date): # 시작일과 종료일을 datetime 객체로 변환 start_date = datetime.strptime(start_date, \"%Y-%m-%d\") end_date = datetime.strptime(end_date, \"%Y-%m-%d\") # 수집한 데이터를 저장할 리스트 초기화 data = [] # 시작일부터 종료일까지 하루씩 증가시키며 데이터 수집 current_date = start_date while current_date \u003c= end_date: # 날짜를 문자열로 변환 search_date = current_date.strftime(\"%Y-%m-%d\") print(f\"Fetching data for {search_date}\") # 요청할 URL 및 파라미터 설정 url = \"\" params = { \"search_date\": search_date } response = requests.post(url, data=params) if response.status_code == 200: response.encoding = 'utf-8' # 인코딩 설정 soup = BeautifulSoup(response.text, 'html.parser') table = soup.find(\"table\", {\"class\": \"tblArea type_center\"}) if table: rows = table.find(\"tbody\").find_all(\"tr\") for row in rows: cols = row.find_all(\"td\") if len(cols) == 5: # NO 열 제외 try: data.append({ \"기준일자\": search_date, \"종목명\": cols[0].text.strip(), \"종목코드\": cols[1].text.strip(), \"수량\": float(cols[2].text.strip().replace(',', '')), \"비중(%)\": float(cols[3].text.strip()), \"평가금액(원)\": float(cols[4].text.strip().replace(',', '')) }) except ValueError as e: print(f\"ValueError for {search_date} - {cols[0].text.strip()}: {e}\") else: print(f\"Failed to fetch data for {search_date}\") # 하루 증가 current_date += timedelta(days=1) print(f\"Completed fetching data for {search_date}\") # 수집한 데이터를 DataFrame으로 변환 df = pd.DataFrame(data) print(\"Data fetching complete. Converting to DataFrame.\") return df # 사용 예시 start_date = \"2024-06-01\" end_date = \"2024-06-18\" df = get_etf_data(start_date, end_date) # 데이터 저장 df.to_csv(\"etf_data.csv\", index=False) print(\"Data saved to etf_data.csv\") 위 코드는 지정된 기간 동안 매일 Active ETF의 종목 데이터를 가져옵니다. 가져온 데이터를 etf_data.csv 파일로 저장합니다.\n데이터 분석 이제 수집한 데이터를 분석하여 각 종목의 비중 변동을 살펴보겠습니다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 # 데이터 로드 df = pd.read_csv(\"etf_data.csv\") # 비중 변동 분석 df['기준일자'] = pd.to_datetime(df['기준일자']) pivot_df = df.pivot_table(index='기준일자', columns='종목명', values='비중(%)', aggfunc='mean') # 수량 및 평가금액 변동 분석 df['수량변동'] = df.groupby('종목명')['수량'].diff().fillna(0) df['평가금액변동'] = df.groupby('종목명')['평가금액(원)'].diff().fillna(0) # 비중 변동 df['비중변동'] = df.groupby('종목명')['비중(%)'].diff().fillna(0) # 결과 분석 result = df.groupby('종목명').agg({ '수량변동': 'sum', '평가금액변동': 'sum', '비중변동': 'sum' }).sort_values(by='비중변동', ascending=False) # 결과 출력 print(result) 이 코드는 각 종목의 비중 변동, 수량 변동, 평가금액 변동을 계산하고 이를 출력합니다. 이를 통해 어떤 종목의 비중이 어떻게 변했는지 알 수 있습니다.\n데이터 시각화 마지막으로, 데이터를 시각화하여 각 종목의 비중 변화를 그래프로 확인해보겠습니다.\n1 2 3 4 5 6 7 8 9 10 # DataFrame을 시각화하여 종목별 비중 변화 추이 확인 plt.figure(figsize=(14, 7)) for stock in pivot_df.columns: plt.plot(pivot_df.index, pivot_df[stock], label=stock) plt.title('종목별 비중 변화 추이') plt.xlabel('기준일자') plt.ylabel('비중(%)') plt.legend(loc='upper right') plt.show() 이 그래프를 통해 각 종목의 비중이 시간에 따라 어떻게 변했는지를 한눈에 확인할 수 있습니다.\n결론 오늘은 파이썬을 사용하여 Active ETF의 종목 변동을 분석하는 방법을 배웠습니다. 수집한 데이터를 바탕으로 매니저의 투자 전략을 파악하고, 종목의 비중 변동이 의도된 것인지, 아니면 시장 가격 변동 때문인지를 분석할 수 있습니다.\n예를 들어, 삼양식품처럼 주가가 급등한 종목의 경우, 비중 변동만으로는 펀드매니저의 의사결정을 정확히 파악하기 어렵습니다. 이러한 이유로 수량 변동과 평가금액 변동을 함께 분석하는 것이 중요합니다. 다음 포스트에서는 이 부분을 더 깊이 있게 다룰 예정이니 기대해주세요!\n궁금한 점이 있으면 언제든지 의견 남겨주세요. 다음 포스트에서 또 만나요!\n","wordCount":"845","inLanguage":"en","image":"http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-06-24T00:00:00Z","dateModified":"2025-04-04T09:47:00Z","author":{"@type":"Person","name":"Gunn Kim"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/analyzing-active-etf-with-python/"},"publisher":{"@type":"Organization","name":"Exobrain","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/posts/ title=posts><span>posts</span></a></li><li><a href=http://localhost:1313/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">파이썬으로 Active ETF 종목 변동 분석하기</h1><div class=post-description>이 포스트에서는 파이썬을 사용하여 Active ETF의 종목 변동을 분석하는 방법을 소개합니다. 타임폴리오 자산운용의 '타임폴리오 코리아 플러스배당액티브 ETF'를 예시로 데이터 수집, 분석, 시각화를 통해 매니저의 투자 전략을 파악하는 방법을 배워보세요.</div><div class=post-meta><span title='2024-06-24 00:00:00 +0000 UTC'>June 24, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;845 words&nbsp;·&nbsp;Gunn Kim</div></header><div class=post-content><p>안녕하세요, 파이썬으로 금융 문제를 해결해 보는 블로그에 오신 것을 환영합니다! 오늘은 Active ETF의 종목 변동을 파이썬으로 분석하는 방법을 소개하려고 합니다. 이 글을 통해 여러분은 ETF 매니저가 어떤 종목의 비중을 늘리고 줄였는지, 그 이유가 무엇인지 파악할 수 있습니다.</p><h2 id=active-etf란-무엇인가요>Active ETF란 무엇인가요?<a hidden class=anchor aria-hidden=true href=#active-etf란-무엇인가요>#</a></h2><p>먼저, Active ETF에 대해 간단히 설명드릴게요. ETF(Exchange Traded Fund)는 주식처럼 거래되는 펀드입니다. Active ETF는 매니저가 시장 상황에 따라 종목을 적극적으로 조정하는 ETF를 말합니다. 따라서 어떤 종목의 비중이 어떻게 변했는지를 분석하면 매니저의 투자 전략을 엿볼 수 있죠.</p><h2 id=왜-타임폴리오-액티브-etf인가요>왜 타임폴리오 액티브 ETF인가요?<a hidden class=anchor aria-hidden=true href=#왜-타임폴리오-액티브-etf인가요>#</a></h2><p>이번 분석에서는 타임폴리오자산운용의 &lsquo;타임폴리오 코리아 플러스배당액티브 ETF&rsquo;를 예시로 사용했습니다. 이 ETF는 최근 업계 최초로 특별배당을 실시하며 주목받고 있습니다.</p><p>타임폴리오자산운용은 2024년 6월, 이 ETF가 1%의 특별배당을 시행한다고 발표했습니다. 이는 기존 월배당 0.5%에 추가된 것으로, 총 1.5%의 배당금을 지급하게 됩니다. 타임폴리오 코리아 플러스배당액티브 ETF는 삼양식품, SK하이닉스와 같은 실적이 좋은 주도주와 현대차, 메리츠금융지주 등 주주 친화적인 고배당주를 적절히 편입하여 우수한 성과를 달성하고 있습니다.</p><p>타임폴리오의 조상준 부장은 이 ETF가 상승장과 하락장 모두에서 시장을 이기는 투자를 할 수 있다고 강조했습니다. 이 ETF는 최근 연간 수익률 43.1%를 기록하며 전체 배당 ETF 중 수익률 1위를 달성했습니다. 배당 수익뿐만 아니라 자본차익까지 노리는 적극적인 종목선별 전략 덕분에 이러한 성과를 이룰 수 있었습니다.</p><p>특히 삼양식품의 경우, 주가가 급등하는 동안 ETF의 주요 종목으로 편입되었고, 이는 전체 수익률을 크게 높이는 데 기여했습니다. 이러한 이유로 우리는 이 ETF를 예시로 선택하여 종목 변동을 분석해보려 합니다.</p><h2 id=필요한-도구들>필요한 도구들<a hidden class=anchor aria-hidden=true href=#필요한-도구들>#</a></h2><p>이 분석을 위해 필요한 도구는 간단합니다:</p><ul><li><code>requests</code>: 웹에서 데이터를 가져오기 위한 라이브러리입니다.</li><li><code>BeautifulSoup</code>: HTML 파싱을 위한 라이브러리입니다.</li><li><code>pandas</code>: 데이터 분석을 위한 라이브러리입니다.</li><li><code>matplotlib</code>: 데이터 시각화를 위한 라이브러리입니다.
이제 코드를 작성해볼까요?</li></ul><h2 id=데이터-수집>데이터 수집<a hidden class=anchor aria-hidden=true href=#데이터-수집>#</a></h2><p>먼저, 특정 기간 동안 Active ETF의 종목 데이터를 수집해야 합니다. 이를 위해 웹에서 데이터를 가져오고, <code>BeautifulSoup</code>으로 파싱하여 <code>pandas</code> DataFrame으로 저장할 겁니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>bs4</span> <span class=kn>import</span> <span class=n>BeautifulSoup</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>datetime</span> <span class=kn>import</span> <span class=n>datetime</span><span class=p>,</span> <span class=n>timedelta</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>matplotlib</span> <span class=kn>import</span> <span class=n>font_manager</span><span class=p>,</span> <span class=n>rc</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 한글 폰트 설정</span>
</span></span><span class=line><span class=cl><span class=n>font_path</span> <span class=o>=</span> <span class=s1>&#39;/System/Library/Fonts/Supplemental/AppleGothic.ttf&#39;</span>  <span class=c1># 또는 적절한 폰트 경로 지정</span>
</span></span><span class=line><span class=cl><span class=n>font_name</span> <span class=o>=</span> <span class=n>font_manager</span><span class=o>.</span><span class=n>FontProperties</span><span class=p>(</span><span class=n>fname</span><span class=o>=</span><span class=n>font_path</span><span class=p>)</span><span class=o>.</span><span class=n>get_name</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>rc</span><span class=p>(</span><span class=s1>&#39;font&#39;</span><span class=p>,</span> <span class=n>family</span><span class=o>=</span><span class=n>font_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>rcParams</span><span class=p>[</span><span class=s1>&#39;axes.unicode_minus&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_etf_data</span><span class=p>(</span><span class=n>start_date</span><span class=p>,</span> <span class=n>end_date</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 시작일과 종료일을 datetime 객체로 변환</span>
</span></span><span class=line><span class=cl>    <span class=n>start_date</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>start_date</span><span class=p>,</span> <span class=s2>&#34;%Y-%m-</span><span class=si>%d</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>end_date</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>end_date</span><span class=p>,</span> <span class=s2>&#34;%Y-%m-</span><span class=si>%d</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 수집한 데이터를 저장할 리스트 초기화</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 시작일부터 종료일까지 하루씩 증가시키며 데이터 수집</span>
</span></span><span class=line><span class=cl>    <span class=n>current_date</span> <span class=o>=</span> <span class=n>start_date</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=n>current_date</span> <span class=o>&lt;=</span> <span class=n>end_date</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 날짜를 문자열로 변환</span>
</span></span><span class=line><span class=cl>        <span class=n>search_date</span> <span class=o>=</span> <span class=n>current_date</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&#34;%Y-%m-</span><span class=si>%d</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Fetching data for </span><span class=si>{</span><span class=n>search_date</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 요청할 URL 및 파라미터 설정</span>
</span></span><span class=line><span class=cl>        <span class=n>url</span> <span class=o>=</span> <span class=s2>&#34;&lt;https://www.timefolio.co.kr/etf/funds_pdf_view.php?PID=13&gt;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>params</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;search_date&#34;</span><span class=p>:</span> <span class=n>search_date</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>params</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>response</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>response</span><span class=o>.</span><span class=n>encoding</span> <span class=o>=</span> <span class=s1>&#39;utf-8&#39;</span>  <span class=c1># 인코딩 설정</span>
</span></span><span class=line><span class=cl>            <span class=n>soup</span> <span class=o>=</span> <span class=n>BeautifulSoup</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>text</span><span class=p>,</span> <span class=s1>&#39;html.parser&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>table</span> <span class=o>=</span> <span class=n>soup</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&#34;table&#34;</span><span class=p>,</span> <span class=p>{</span><span class=s2>&#34;class&#34;</span><span class=p>:</span> <span class=s2>&#34;tblArea type_center&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>table</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>rows</span> <span class=o>=</span> <span class=n>table</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&#34;tbody&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>find_all</span><span class=p>(</span><span class=s2>&#34;tr&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>rows</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>cols</span> <span class=o>=</span> <span class=n>row</span><span class=o>.</span><span class=n>find_all</span><span class=p>(</span><span class=s2>&#34;td&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>cols</span><span class=p>)</span> <span class=o>==</span> <span class=mi>5</span><span class=p>:</span>  <span class=c1># NO 열 제외</span>
</span></span><span class=line><span class=cl>                        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                            <span class=n>data</span><span class=o>.</span><span class=n>append</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;기준일자&#34;</span><span class=p>:</span> <span class=n>search_date</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;종목명&#34;</span><span class=p>:</span> <span class=n>cols</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>text</span><span class=o>.</span><span class=n>strip</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;종목코드&#34;</span><span class=p>:</span> <span class=n>cols</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>text</span><span class=o>.</span><span class=n>strip</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;수량&#34;</span><span class=p>:</span> <span class=nb>float</span><span class=p>(</span><span class=n>cols</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span><span class=o>.</span><span class=n>text</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>)),</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;비중(%)&#34;</span><span class=p>:</span> <span class=nb>float</span><span class=p>(</span><span class=n>cols</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=o>.</span><span class=n>text</span><span class=o>.</span><span class=n>strip</span><span class=p>()),</span>
</span></span><span class=line><span class=cl>                                <span class=s2>&#34;평가금액(원)&#34;</span><span class=p>:</span> <span class=nb>float</span><span class=p>(</span><span class=n>cols</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span><span class=o>.</span><span class=n>text</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                            <span class=p>})</span>
</span></span><span class=line><span class=cl>                        <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;ValueError for </span><span class=si>{</span><span class=n>search_date</span><span class=si>}</span><span class=s2> - </span><span class=si>{</span><span class=n>cols</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>text</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Failed to fetch data for </span><span class=si>{</span><span class=n>search_date</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># 하루 증가</span>
</span></span><span class=line><span class=cl>        <span class=n>current_date</span> <span class=o>+=</span> <span class=n>timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Completed fetching data for </span><span class=si>{</span><span class=n>search_date</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># 수집한 데이터를 DataFrame으로 변환</span>
</span></span><span class=line><span class=cl>    <span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Data fetching complete. Converting to DataFrame.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>df</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 사용 예시</span>
</span></span><span class=line><span class=cl><span class=n>start_date</span> <span class=o>=</span> <span class=s2>&#34;2024-06-01&#34;</span>
</span></span><span class=line><span class=cl><span class=n>end_date</span> <span class=o>=</span> <span class=s2>&#34;2024-06-18&#34;</span>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>=</span> <span class=n>get_etf_data</span><span class=p>(</span><span class=n>start_date</span><span class=p>,</span> <span class=n>end_date</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 데이터 저장</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=s2>&#34;etf_data.csv&#34;</span><span class=p>,</span> <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Data saved to etf_data.csv&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>위 코드는 지정된 기간 동안 매일 Active ETF의 종목 데이터를 가져옵니다. 가져온 데이터를 <code>etf_data.csv</code> 파일로 저장합니다.</p><h2 id=데이터-분석>데이터 분석<a hidden class=anchor aria-hidden=true href=#데이터-분석>#</a></h2><p>이제 수집한 데이터를 분석하여 각 종목의 비중 변동을 살펴보겠습니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 데이터 로드</span>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&#34;etf_data.csv&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 비중 변동 분석</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=p>[</span><span class=s1>&#39;기준일자&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>to_datetime</span><span class=p>(</span><span class=n>df</span><span class=p>[</span><span class=s1>&#39;기준일자&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>pivot_df</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>pivot_table</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=s1>&#39;기준일자&#39;</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=s1>&#39;종목명&#39;</span><span class=p>,</span> <span class=n>values</span><span class=o>=</span><span class=s1>&#39;비중(%)&#39;</span><span class=p>,</span> <span class=n>aggfunc</span><span class=o>=</span><span class=s1>&#39;mean&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 수량 및 평가금액 변동 분석</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=p>[</span><span class=s1>&#39;수량변동&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;종목명&#39;</span><span class=p>)[</span><span class=s1>&#39;수량&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>diff</span><span class=p>()</span><span class=o>.</span><span class=n>fillna</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=p>[</span><span class=s1>&#39;평가금액변동&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;종목명&#39;</span><span class=p>)[</span><span class=s1>&#39;평가금액(원)&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>diff</span><span class=p>()</span><span class=o>.</span><span class=n>fillna</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 비중 변동</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=p>[</span><span class=s1>&#39;비중변동&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;종목명&#39;</span><span class=p>)[</span><span class=s1>&#39;비중(%)&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>diff</span><span class=p>()</span><span class=o>.</span><span class=n>fillna</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 결과 분석</span>
</span></span><span class=line><span class=cl><span class=n>result</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>groupby</span><span class=p>(</span><span class=s1>&#39;종목명&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>agg</span><span class=p>({</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;수량변동&#39;</span><span class=p>:</span> <span class=s1>&#39;sum&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;평가금액변동&#39;</span><span class=p>:</span> <span class=s1>&#39;sum&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;비중변동&#39;</span><span class=p>:</span> <span class=s1>&#39;sum&#39;</span>
</span></span><span class=line><span class=cl><span class=p>})</span><span class=o>.</span><span class=n>sort_values</span><span class=p>(</span><span class=n>by</span><span class=o>=</span><span class=s1>&#39;비중변동&#39;</span><span class=p>,</span> <span class=n>ascending</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 결과 출력</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>이 코드는 각 종목의 비중 변동, 수량 변동, 평가금액 변동을 계산하고 이를 출력합니다. 이를 통해 어떤 종목의 비중이 어떻게 변했는지 알 수 있습니다.</p><h2 id=데이터-시각화>데이터 시각화<a hidden class=anchor aria-hidden=true href=#데이터-시각화>#</a></h2><p>마지막으로, 데이터를 시각화하여 각 종목의 비중 변화를 그래프로 확인해보겠습니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># DataFrame을 시각화하여 종목별 비중 변화 추이 확인</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>14</span><span class=p>,</span> <span class=mi>7</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>stock</span> <span class=ow>in</span> <span class=n>pivot_df</span><span class=o>.</span><span class=n>columns</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>pivot_df</span><span class=o>.</span><span class=n>index</span><span class=p>,</span> <span class=n>pivot_df</span><span class=p>[</span><span class=n>stock</span><span class=p>],</span> <span class=n>label</span><span class=o>=</span><span class=n>stock</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>title</span><span class=p>(</span><span class=s1>&#39;종목별 비중 변화 추이&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>xlabel</span><span class=p>(</span><span class=s1>&#39;기준일자&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>ylabel</span><span class=p>(</span><span class=s1>&#39;비중(%)&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>legend</span><span class=p>(</span><span class=n>loc</span><span class=o>=</span><span class=s1>&#39;upper right&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>이 그래프를 통해 각 종목의 비중이 시간에 따라 어떻게 변했는지를 한눈에 확인할 수 있습니다.</p><h2 id=결론>결론<a hidden class=anchor aria-hidden=true href=#결론>#</a></h2><p>오늘은 파이썬을 사용하여 Active ETF의 종목 변동을 분석하는 방법을 배웠습니다. 수집한 데이터를 바탕으로 매니저의 투자 전략을 파악하고, 종목의 비중 변동이 의도된 것인지, 아니면 시장 가격 변동 때문인지를 분석할 수 있습니다.</p><p>예를 들어, 삼양식품처럼 주가가 급등한 종목의 경우, 비중 변동만으로는 펀드매니저의 의사결정을 정확히 파악하기 어렵습니다. 이러한 이유로 수량 변동과 평가금액 변동을 함께 분석하는 것이 중요합니다. 다음 포스트에서는 이 부분을 더 깊이 있게 다룰 예정이니 기대해주세요!</p><p>궁금한 점이 있으면 언제든지 의견 남겨주세요. 다음 포스트에서 또 만나요!</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/python/>Python</a></li><li><a href=http://localhost:1313/tags/%ED%88%AC%EC%9E%90/>투자</a></li><li><a href=http://localhost:1313/tags/etf/>ETF</a></li><li><a href=http://localhost:1313/tags/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B6%84%EC%84%9D/>데이터분석</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/langgraph-vs-langchain-evolution-of-llm-development-frameworks/><span class=title>« Prev</span><br><span>랭그래프 vs. 랭체인 : LLM 개발 프레임워크의 진화</span>
</a><a class=next href=http://localhost:1313/posts/etf-fees-daily-or-annually/><span class=title>Next »</span><br><span>ETF는 수수료를 어떻게 떼갈까? 매일? 연말에 한번에? 초보 투자자를 위한 쉽게 이해하는 가이드</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 파이썬으로 Active ETF 종목 변동 분석하기 on x" href="https://x.com/intent/tweet/?text=%ed%8c%8c%ec%9d%b4%ec%8d%ac%ec%9c%bc%eb%a1%9c%20Active%20ETF%20%ec%a2%85%eb%aa%a9%20%eb%b3%80%eb%8f%99%20%eb%b6%84%ec%84%9d%ed%95%98%ea%b8%b0&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fanalyzing-active-etf-with-python%2f&amp;hashtags=Python%2c%ed%88%ac%ec%9e%90%2cETF%2c%eb%8d%b0%ec%9d%b4%ed%84%b0%eb%b6%84%ec%84%9d"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 파이썬으로 Active ETF 종목 변동 분석하기 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fanalyzing-active-etf-with-python%2f&amp;title=%ed%8c%8c%ec%9d%b4%ec%8d%ac%ec%9c%bc%eb%a1%9c%20Active%20ETF%20%ec%a2%85%eb%aa%a9%20%eb%b3%80%eb%8f%99%20%eb%b6%84%ec%84%9d%ed%95%98%ea%b8%b0&amp;summary=%ed%8c%8c%ec%9d%b4%ec%8d%ac%ec%9c%bc%eb%a1%9c%20Active%20ETF%20%ec%a2%85%eb%aa%a9%20%eb%b3%80%eb%8f%99%20%eb%b6%84%ec%84%9d%ed%95%98%ea%b8%b0&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fanalyzing-active-etf-with-python%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 파이썬으로 Active ETF 종목 변동 분석하기 on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fanalyzing-active-etf-with-python%2f&title=%ed%8c%8c%ec%9d%b4%ec%8d%ac%ec%9c%bc%eb%a1%9c%20Active%20ETF%20%ec%a2%85%eb%aa%a9%20%eb%b3%80%eb%8f%99%20%eb%b6%84%ec%84%9d%ed%95%98%ea%b8%b0"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 파이썬으로 Active ETF 종목 변동 분석하기 on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fanalyzing-active-etf-with-python%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 파이썬으로 Active ETF 종목 변동 분석하기 on whatsapp" href="https://api.whatsapp.com/send?text=%ed%8c%8c%ec%9d%b4%ec%8d%ac%ec%9c%bc%eb%a1%9c%20Active%20ETF%20%ec%a2%85%eb%aa%a9%20%eb%b3%80%eb%8f%99%20%eb%b6%84%ec%84%9d%ed%95%98%ea%b8%b0%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fanalyzing-active-etf-with-python%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 파이썬으로 Active ETF 종목 변동 분석하기 on telegram" href="https://telegram.me/share/url?text=%ed%8c%8c%ec%9d%b4%ec%8d%ac%ec%9c%bc%eb%a1%9c%20Active%20ETF%20%ec%a2%85%eb%aa%a9%20%eb%b3%80%eb%8f%99%20%eb%b6%84%ec%84%9d%ed%95%98%ea%b8%b0&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fanalyzing-active-etf-with-python%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 파이썬으로 Active ETF 종목 변동 분석하기 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%ed%8c%8c%ec%9d%b4%ec%8d%ac%ec%9c%bc%eb%a1%9c%20Active%20ETF%20%ec%a2%85%eb%aa%a9%20%eb%b3%80%eb%8f%99%20%eb%b6%84%ec%84%9d%ed%95%98%ea%b8%b0&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fanalyzing-active-etf-with-python%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Exobrain</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>